# 组合模式

> 定义：由小的子对象构建大的对象，且子对象本身也可以由更小的子对象构成

## 特性

1. 提供了一种遍历树形结构的方案，通过调用组合对象的某方法，程序会递归调用组合对象下的叶对象的某方法，描述出了对象【部分-整体】的层次结构，用户只需关心树的最顶层组合对象
2. 利用对象多态性统一对待组合对象和单个对象，忽略了组合对象和单个对象的不同

## 应用

1. 文件夹扫描
2. 文件的删除

## 注意事项

1. 组合模式需组合对象和叶子对象拥有相同接口，且对同一组叶子对象的操作必须一致
2. 组合对象和子对象之间的区别：组合对象可以有子节点，叶对象下面无子节点，故在实际应用中需要考虑这些差异
3. 组合模式不是IS-A(父子继承)关系，他是一种HAS-A（聚合：整体与部分）关系
4. 对多组织架构不适用，此时虽可建立双向映射关系，但由于产生了复杂的引用与耦合，使得对对象的删改变得困难，此时可使用【中介者模式】
5. 当树结构过于复杂时，会出现一些性能方面问题，故而在实际操作中避免遍历整棵树，可借助【职责链模式】：请求沿着链条从父对象向子对象或子对象向父对象传递，直到遇到了可以处理该请求的对象为止

### 引申

1. 面向对象中的关系：IS-A(继承)、HAS-A(组合)、USE-A(依赖)