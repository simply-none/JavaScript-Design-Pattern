# 模板方法模式

> 定义：基于继承的设计模式，由两部分组成：抽象父类（封装子类的算法框架：公共方法的实现、封装子类的执行顺序）和实现子类

## 特性

1. 子类实现中的相同部分移到了父类中，只将不同的部分留在子类实现【泛化思想】
2. 严重依赖抽象类的设计模式，使用原型继承来模拟类式继承
3. 使用钩子方法使子类不受父类的约束，在父类容易变化的地方放置钩子以隔离变化；钩子可以有个默认实现，子类可自己选择是否执行该钩子，使程序拥抱变化
4. 模板方法模式是好莱坞原则的一个典型使用场景

## 应用

1. 常用于搭建项目框架，其他人员继承框架结构并进行内容填充

## 注意事项

1. 子类在重写父类方法时可能会遗漏，解决方案
   1. 使用鸭子类型模拟接口检查，确保子类确实重写了父类方法，此时会添加一些业务无关的逻辑代码
   2. 在父组件抽象方法中抛出一个异常，当漏重写父组件方法时，会抛出一个错误，此时获取错误信息的时间点会靠后

## 引申-设计原则

1. 好莱坞原则：允许底层组件将自己挂钩到高层组件中，而高层组件会决定什么时候、以何种方式使用这些底层组件，即子类放弃对自己的控制权，改为父类通知子类，在其他模式/场景的使用：
   1. 发布订阅模式
   2. 回调函数
